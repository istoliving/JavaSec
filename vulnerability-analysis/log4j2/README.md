**æ³¨ï¼š**
```
# æœ¬æ–‡ä»…ä¾›å®‰å…¨ç ”ç©¶ä½¿ç”¨ ğŸ‘¨â€âœˆï¸
è¿™é‡Œæƒ³æä¸€å˜´ï¼Œçœ‹åˆ°å¾ˆå¤šäººåœ¨"ç–¯ç‹‚"åœ°æµ‹dnslogï¼Œå…¶å®è¿˜æ˜¯å¸Œæœ›åœ¨æ²¡æœ‰æˆæƒæƒ…å†µä¸‹æœ€å¥½ä¸è¦è¿›è¡Œæ¼æ´æ¢æµ‹/æ”»å‡»è¡Œä¸ºï¼Œæ¯•ç«Ÿ"è‡ªå¾‹æ˜¯è‡ªç”±çš„åŸºç¡€"!  ğŸ‘¨â€âœˆï¸ 
```

### æ¼æ´åˆ†æ

æ ¹æ®æµä¼ çš„payloadæ­å»ºæµ‹è¯•ç¯å¢ƒ

- log4j_rce.java

```java
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

public class log4j_rce {
    private static final Logger logger = LogManager.getLogger(log4j_rce.class);
    public static void main(String[] args) {
        logger.error("æš‚æ—¶æ‰“ç å¤„ç†"}");
    }
}
```

ä¸€æ­¥ä¸€æ­¥è·Ÿè¿›ï¼Œæœ€åè·Ÿåˆ°
- org.apache.logging.log4j.core.lookup.Interpolator#lookup

![image](https://user-images.githubusercontent.com/55024146/145439561-9dc12330-6705-4297-aeef-42413a4edc21.png)

ä¼¼ä¹å°±æ˜¯è¿™é‡Œï¼Œæµ‹ä¸‹æ–­ç‚¹ï¼Œè°ƒè¯•

![image](https://user-images.githubusercontent.com/55024146/145439835-a4d042d7-80b9-47ca-a65b-8dcb24ee6bd1.png)

ç­”æ¡ˆå‘¼ä¹‹æ¬²å‡ºï¼Œlookup + jndiï¼

å…¶å®è¿™é‡Œå¯ä»¥è§¦å‘çš„ä¸åªæ˜¯error,é»˜è®¤æƒ…å†µä¸‹fatalä¹Ÿå¯ä»¥ï¼Œå³ä¾¿å®é™…çš„ä¸šåŠ¡åœºæ™¯è‚¯å®šä¼šæœ‰æ‰€ä¸åŒ(åªä¼šæ›´å¤š)ã€‚

### æ¼æ´å¤ç°

èµ·ä¸€ä¸ªæ¶æ„çš„LDAPRefServerã€æ¶æ„ç±»Evil

![image](https://user-images.githubusercontent.com/55024146/145442280-7bfa4038-276e-414b-b0b6-2c1dc6e92e74.png)

ç„¶åè§¦å‘å³å¯

![image](https://user-images.githubusercontent.com/55024146/145458787-4acd92c0-50db-40dc-b4cb-6d49014e53ac.png)




